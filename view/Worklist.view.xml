<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="zmm003.zsrvreq.controller.Worklist" xmlns="sap.m" xmlns:layout="sap.ui.layout"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:core="sap.ui.core" xmlns:semantic="sap.m.semantic">
	<!--<semantic:SemanticPage id="WorkList" headerPinnable="false" class="sapUiResponsiveContentPadding sapUiFioriObjectPage"-->
	<!--	backgroundDesign="List" toggleHeaderOnTitleClick="false">-->
	<!--<semantic:titleHeading>-->
	<!--	<Title text="Manage Service Agreement Request"/>-->
	<!--</semantic:titleHeading>-->
	<!--<semantic:headerContent>-->
	<Page id="WorkList" showHeader="true" showNavButton="false" backgroundDesign="List" navButtonPress="_onPageNavButtonPress"
		class="sapUiResponsiveContentPadding sapUiFioriObjectPage">
		<IconTabBar id="iconTabBar" select=".onQuickFilter" class="sapUiSizeCompact">
			<items>
				<IconTabFilter key="ALL" showAll="true" count="{worklistView>/ALL}" text="{i18n>WorklistFilterAll}"/>
				<IconTabFilter key="DRAFT" icon="sap-icon://request" count="{worklistView>/DRAFT}" text="{i18n>WorklistFilterDraft}"/>
				<IconTabFilter key="INAPPROVAL" icon="sap-icon://approvals" iconColor="Contrast" count="{worklistView>/INAPPROVAL}"
					text="{i18n>WorklistFilterInApproval}"/>
				<IconTabFilter key="APPROVED" icon="sap-icon://hr-approval" iconColor="Positive" count="{worklistView>/APPROVED}"
					text="{i18n>WorklistFilterApproved}"/>
				<IconTabFilter key="REJECTED" icon="sap-icon://employee-rejections" iconColor="Negative" count="{worklistView>/REJECTED}"
					text="{i18n>WorklistFilterRejected}"/>
				<IconTabFilter key="WITHDRAW" icon="sap-icon://sys-cancel" iconColor="Critical" count="{worklistView>/WITHDRAW}"
					text="{i18n>WorklistFilterWithDraw}"/>
					<IconTabFilter key="COMPLETED" icon="sap-icon://complete" count="{worklistView>/COMPLETED}" text="{i18n>WorklistFilterComplete}"/>
			</items>
			<content>
				<fb:FilterBar reset="onReset" search="onSearch" showRestoreButton="true" showClearButton="true" class="sapUiSizeCompact">
					<fb:filterGroupItems>
						<fb:FilterGroupItem groupName="__$INTERNAL$" name="A" label="{i18n>SerAgrNumber}" partOfCurrentVariant="true" visibleInFilterBar="true">
							<fb:control>
								<Input type="Text" value="{SerAgr>/filters/ReqNo}" showValueHelp="false">
									<!--<suggestionItems>-->
									<!--	<core:Item text="{SAPPayCode}" key="{SAPPayCodeDesc}"/>-->
									<!--</suggestionItems>-->
								</Input>
							</fb:control>
						</fb:FilterGroupItem>
						<fb:FilterGroupItem groupName="__$INTERNAL$" name="B" label="{i18n>Type}" partOfCurrentVariant="true" visibleInFilterBar="true">
							<fb:control>
								<ComboBox id="SerAgrSolType" selectedKey="{SerAgr>/filters/Type}" items="{ path: '/SolicitationTypeSet', sorter: { path: 'Soltyp' } }"
									forceSelection="true" enabled="{=${oCrtSerAgr>/IsEdit}===true?true:false}">
									<core:Item key="{Soltyp}" text="{Soltyp}"/>
								</ComboBox>
							</fb:control>
						</fb:FilterGroupItem>
						<fb:FilterGroupItem groupName="__$INTERNAL$" name="C" label="{i18n>Requester}" partOfCurrentVariant="true" visibleInFilterBar="true">
							<fb:control>
								<Input id="idSerAgrRequestorWV" showSuggestion="false" showValueHelp="true" value="{SerAgr>/filters/Requestor}" suggestionItems="{/UserSet}"
									valueHelpOnly='false' valueHelpRequest="handleF4RequestorWV" editable="{=${oCrtSerAgr>/IsEdit}===true?true:false}">
									<suggestionItems>
										<core:Item text="{Bname}"/>
									</suggestionItems>
								</Input>
							</fb:control>
						</fb:FilterGroupItem>
						<fb:FilterGroupItem groupName="__$INTERNAL$" name="D" label="{i18n>Department}" partOfCurrentVariant="true" visibleInFilterBar="true">
							<fb:control>
								<ComboBox selectedKey="{SerAgr>/filters/Dept}" items="{ path: '/DepartmentsSet', sorter: { path: 'Dptnm' } }" forceSelection="false"
									editable="true" change="onDept" enabled="{=${oCrtSerAgr>/IsEdit}===true?true:false}">
									<core:Item key="{Dptnm}" text="{Dptnm}"/>
								</ComboBox>
							</fb:control>
						</fb:FilterGroupItem>
					</fb:filterGroupItems>
				</fb:FilterBar>
				<Table id="idSerAgrTbl" noDataText="{i18n>tableNoDataText}" updateFinished=".onUpdateFinished" backgroundDesign="Solid"
					busyIndicatorDelay="{worklistView>/tableBusyDelay}" width="auto" items="{path:'/ZC_WOM_REQUEST', sorter:{path:'ReqNo',descending : 'true'}, 
					filters : { path : 'ReqTy' , operator : 'EQ', value1: 'SAR'}}"
					growing = "true"  growingThreshold = "15"  growingScrollToLoad = "true" 
					>
					<headerToolbar>
						<Toolbar>
							<Title id="tableHeader" text="{worklistView>/worklistTableTitle}"/>
							<ToolbarSpacer/>
							<ToolbarSpacer width=""/>
							<!--<OverflowToolbarButton text="Sort" icon="sap-icon://sort"/>-->
							<!--<OverflowToolbarButton text="Filter" icon="sap-icon://filter"/>-->
							<!--<OverflowToolbarButton text="Group" icon="sap-icon://group-2"/>-->
							<Button id="idButtonExportData" press="onExportData" type="Transparent" icon="sap-icon://excel-attachment"
								tooltip="Export Service Agreement Request"/>
							<Button text="Create Service Agreement Request" icon="sap-icon://add" press="_onCreateSerAgr" type="Accept"/>
							<!--<OverflowToolbarButton text="Settings" icon="sap-icon://action-settings"/>-->
							<!--<SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search=".onSearch" width="auto"></SearchField>-->
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column id="idSerAgrTblColSerAgr">
							<Text id="idSerAgrTblColTxtSerAgr" text="{i18n>SerAgrNumber}"/>
						</Column>
						<Column id="idSerAgrTblColSolicit">
							<Text id="idSerAgrTblColTxtSolicit" text="{i18n>Solicit}"/>
						</Column>
						<Column id="idSerAgrTblColDate">
							<Text id="idSerAgrTblColTxtDate" text="{i18n>Date}"/>
						</Column>
						<Column id="idSerAgrTblColTitle">
							<Text id="idSerAgrTblColTxtTitle" text="{i18n>Subject1}"/>
						</Column>
						<Column id="idSerAgrTblColRequestor">
							<Text id="idSerAgrTblColTxtRequestor" text="{i18n>Requestor}"/>
						</Column>
						<Column id="idSerAgrTblColRequestorName">
							<Text id="idSerAgrTblColTxtRequestorName" text="{i18n>RequestorName}"/>
						</Column>
						<Column id="idSerAgrTblColFirmName">
							<Text id="idSerAgrTblColTxtFirmName" text="{i18n>VendorName}"/>
						</Column>
						<Column id="idSerAgrTblColApprover">
							<Text id="idSerAgrTblColTxtApprover" text="{i18n>Approver}"/>
						</Column>
						<Column id="idSerAgrTblColValue">
							<Text id="idSerAgrTblColTxtValue" text="{i18n>Value}"/>
						</Column>
						<Column id="idSerAgrTblColStatus">
							<Text id="idSerAgrTblColTxtStatus" text="{i18n>Status}"/>
						</Column>
						<Column id="idSerAgrTblColApprovedBy">
							<Text id="idWorkOrdReqTblColTxtApprovedBy" text="{i18n>ApprovedBy}"/>
						</Column>
						<Column id="idSerAgrTblColApprovedOn">
							<Text id="idWorkOrdReqTblColTxtApprovedOn" text="{i18n>ApprovedOn}"/>
						</Column>
					</columns>
					<items >
						<ColumnListItem type="Navigation" press="_onEditSerAgr">
							<cells>
								<ObjectIdentifier id="idSerAgrTblCLIReqNum" title="{ReqNo}"/>
								<Text id="idSerAgrTblCLISolicit" text="{Solicitation}"/>
								<Text id="idPayResultssTblCLIOICheckDate"
									text="{path:'OnDate', type:'sap.ui.model.type.Date', formatOptions: { format: 'yMd', UTC : true ,style: 'short'}}" class="sapUiSmallMargin"/>
								<Text id="idSerAgrTblCLISubject" text="{Subject}" maxLines='1' tooltip="{Subject}"/>
								<Text id="idSerAgrTblCLIRequestor" text="{Requestor}"/>
								<Text id="idSerAgrTblCLIRequestorName" text="{RequestorName}"/>
								<Text id="idSerAgrTblCLIFirmName" text="{FirmName}"/>
								<Text id="idSerAgrTblCLIApprover" text="{CurrentApproverName}"/>
								<!--<Text id="idSerAgrTblCLIApprovedBy" text="{LastApprovedName}"/>-->
								<Text id="idSerAgrTblCLIValue"
									text="{ path : 'Value' , type: 'sap.ui.model.type.Float', formatOptions:{ minFractionDigits : 2 ,maxFractionDigits : 2 ,groupingSeparator: ',',decimalSeparator: '.' } }"/>
								<Text id="idSerAgrTblCLIStatus" text="{StatusDesc}"/>
								<Text id="idSerAgrTblCLIApproverName" text="{LastApprovedName}"/>
								<Text id="idSerAgrTblCLIOIApprovedOn" text="{ApprovedDate}"/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</content>
		</IconTabBar>
		<!--</semantic:headerContent>-->
	</Page>
	<!--</semantic:SemanticPage>-->
</mvc:View>